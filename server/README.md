# LocationX Server

–ü—Ä–æ—Å—Ç–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Actix-web —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PostgreSQL, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤:

```
src/
‚îú‚îÄ‚îÄ main.rs              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ lib.rs               # –ú–æ–¥—É–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îú‚îÄ‚îÄ domain/              # –î–û–ú–ï–ù–ù–´–ô –°–õ–û–ô
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ entities.rs      # –°—É—â–Ω–æ—Å—Ç–∏ (DbStatus, PingResponse)
‚îÇ   ‚îî‚îÄ‚îÄ traits.rs        # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (HealthService, DatabaseHealthChecker)
‚îú‚îÄ‚îÄ application/         # –°–õ–û–ô –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø  
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îî‚îÄ‚îÄ services.rs      # –°–µ—Ä–≤–∏—Å—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (HealthServiceImpl)
‚îú‚îÄ‚îÄ infrastructure/      # –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ù–´–ô –°–õ–û–ô
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îî‚îÄ‚îÄ database.rs      # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL (PostgresHealthChecker)
‚îî‚îÄ‚îÄ presentation/        # –°–õ–û–ô –ü–†–ï–î–°–¢–ê–í–õ–ï–ù–ò–Ø
    ‚îú‚îÄ‚îÄ mod.rs
    ‚îú‚îÄ‚îÄ handlers.rs      # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    ‚îî‚îÄ‚îÄ routes.rs        # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
```

### –°–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

#### üü¶ Domain (–î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π)
- **Entities**: –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ (`DbStatus`, `PingResponse`)
- **Traits**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (`HealthService`, `DatabaseHealthChecker`)
- –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö —Å–ª–æ–µ–≤
- –°–æ–¥–µ—Ä–∂–∏—Ç —á–∏—Å—Ç—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É

#### üü© Application (–°–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- **Services**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (`HealthServiceImpl`)
- –û—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
- –ó–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –¥–æ–º–µ–Ω–Ω–æ–≥–æ —Å–ª–æ—è

#### üü® Infrastructure (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —Å–ª–æ–π)  
- **Database**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL (`PostgresHealthChecker`)
- –†–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–æ–º–µ–Ω–Ω–æ–≥–æ —Å–ª–æ—è
- –°–æ–¥–µ—Ä–∂–∏—Ç –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### üü™ Presentation (–°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è)
- **Handlers**: HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Routes**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## Endpoints

### Health Status (v1/status)
- `GET ` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- `GET /v1/status/db` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

### User Management (v1/user)
- `POST /v1/user` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /v1/user` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- `GET /v1/user/{id}` - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
- `DELETE /v1/user/{id}` - —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

**–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
curl -X POST http://localhost:5000/v1/user \
  -H "Content-Type: application/json" \
  -d '{"username": "john_doe", "email": "john@example.com"}'
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
```bash
curl http://localhost:5000/v1/user
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash  
curl http://localhost:5000/v1/user/1
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```env
# –°–µ—Ä–≤–µ—Ä
PORT=
HOST=

# PostgreSQL
PGSQL_HOST=
PGSQL_PORT=
PGSQL_USER=
PGSQL_PASSWD=
PGSQL_DB=
```

## –ó–∞–ø—É—Å–∫

```bash
cargo run
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `actix-web` - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `sqlx` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π PostgreSQL –¥—Ä–∞–π–≤–µ—Ä  
- `serde` - —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `dotenvy` - –∑–∞–≥—Ä—É–∑–∫–∞ .env —Ñ–∞–π–ª–æ–≤
- `async-trait` - async —Ç—Ä–µ–π—Ç—ã

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π —Å–ª–æ–π –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é —Ä–æ–ª—å  
‚úÖ **–ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Å–ª–æ–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö  
‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –º–æ–∫–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ —Ç—Ä–µ–π—Ç—ã  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á  
‚úÖ **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ Actix-web
